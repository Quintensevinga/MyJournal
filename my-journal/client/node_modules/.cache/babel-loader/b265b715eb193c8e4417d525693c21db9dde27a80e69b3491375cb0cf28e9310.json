{"ast":null,"code":"var _jsxFileName = \"/Users/quinten/Documents/MyJournal/my-journal/client/src/pages/journal-page/JournalPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiService from '../../apiService';\nimport './JournalPage.css';\nimport WriteJournal from '../../components/write-journal/WriteJournal';\nimport { useJournalContext } from '../../context';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faTrash, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport ModalAdjustJournal from '../../components/modal-adjust-journal/ModalAdjustJournal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JournalPage = () => {\n  _s();\n  const {\n    journalData,\n    updateJournalData\n  } = useJournalContext();\n  const [entries, setEntries] = useState([]);\n  const params = useParams();\n  const journalId = params.journalId;\n  useEffect(() => {\n    const fetchJournalData = async () => {\n      try {\n        const data = await apiService.getJournalData(journalId);\n        updateJournalData(data);\n        setEntries(data.entries);\n      } catch (error) {\n        console.error('Error fetching journal entries:', error);\n      }\n    };\n    fetchJournalData();\n  }, []);\n  const handleFavoriteClick = async entryId => {\n    const entryToUpdate = entries.find(entry => entry._id === entryId);\n    const newFavoriteState = !entryToUpdate.favorite;\n    const response = await apiService.updateJournalEntry(journalId, entryId, {\n      favorite: newFavoriteState\n    });\n    setEntries(response);\n  };\n  const handleDeleteClick = async entryId => {\n    try {\n      await apiService.deleteJournalEntry(journalId, entryId);\n      setEntries(prevEntries => prevEntries.filter(entry => entry._id !== entryId));\n    } catch (error) {\n      console.error('Error deleting journal entry:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"journal-page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cover\",\n        style: {\n          backgroundColor: journalData.coverColor\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"adjust-icon\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faEllipsisV,\n            onClick: event => handleAdjustClick(event, journal)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"book-title\",\n          children: journalData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WriteJournal, {\n        setEntries: setEntries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), (entries === null || entries === void 0 ? void 0 : entries.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: entries.map(entry => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"read-journal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-and-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: entry.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: entry.created\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: entry.mood\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `favorite-icon ${entry.favorite ? 'red-heart' : ''}`,\n          onClick: () => {\n            handleFavoriteClick(entry._id);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faHeart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"trash-icon\",\n          onClick: () => {\n            handleDeleteClick(entry._id);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTrash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, entry._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalAdjustJournal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(JournalPage, \"ZhgBKSRRxmEP9DSs/ILaJ6TDqhw=\", false, function () {\n  return [useJournalContext, useParams];\n});\n_c = JournalPage;\nexport default JournalPage;\nvar _c;\n$RefreshReg$(_c, \"JournalPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","apiService","WriteJournal","useJournalContext","FontAwesomeIcon","faHeart","faTrash","faEllipsisV","ModalAdjustJournal","jsxDEV","_jsxDEV","JournalPage","_s","journalData","updateJournalData","entries","setEntries","params","journalId","fetchJournalData","data","getJournalData","error","console","handleFavoriteClick","entryId","entryToUpdate","find","entry","_id","newFavoriteState","favorite","response","updateJournalEntry","handleDeleteClick","deleteJournalEntry","prevEntries","filter","children","className","style","backgroundColor","coverColor","icon","onClick","event","handleAdjustClick","journal","fileName","_jsxFileName","lineNumber","columnNumber","title","length","map","content","created","mood","_c","$RefreshReg$"],"sources":["/Users/quinten/Documents/MyJournal/my-journal/client/src/pages/journal-page/JournalPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiService from '../../apiService';\nimport './JournalPage.css'\nimport WriteJournal from '../../components/write-journal/WriteJournal';\nimport { useJournalContext } from '../../context';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faTrash, faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport ModalAdjustJournal from '../../components/modal-adjust-journal/ModalAdjustJournal'\n\nconst JournalPage = () => {\n  const { journalData, updateJournalData } = useJournalContext();\n  const [entries, setEntries] = useState([]);\n  const params = useParams();\n  const journalId = params.journalId;\n\n  useEffect(() => {\n    const fetchJournalData = async () => {\n      try {\n        const data = await apiService.getJournalData(journalId);\n        updateJournalData(data);\n        setEntries(data.entries);\n      } catch (error) {\n        console.error('Error fetching journal entries:', error);\n      }\n    };\n    fetchJournalData();\n  }, []);\n\n  const handleFavoriteClick = async (entryId) => {\n    const entryToUpdate = entries.find(entry => entry._id === entryId);\n    const newFavoriteState = !entryToUpdate.favorite;\n    const response = await apiService.updateJournalEntry(journalId, entryId, { favorite: newFavoriteState });\n    setEntries(response);\n  };\n\n  const handleDeleteClick = async (entryId) => {\n    try {\n      await apiService.deleteJournalEntry(journalId, entryId);\n      setEntries((prevEntries) => prevEntries.filter((entry) => entry._id !== entryId));\n    } catch (error) {\n      console.error('Error deleting journal entry:', error);\n    }\n  };\n\n  return (\n    <div>\n      <div className='journal-page-header'>\n        <div className='cover' style={{ backgroundColor: journalData.coverColor }}>\n          <div className='adjust-icon'>\n            <FontAwesomeIcon icon={faEllipsisV} onClick={(event) => handleAdjustClick(event, journal)} />\n          </div>\n          <p className='book-title'>{journalData.title}</p>\n        </div>\n        <WriteJournal setEntries={setEntries} />\n      </div>\n      {entries?.length > 0 ? (\n        <div>\n          {entries.map((entry) => (\n            <div className='read-journal' key={entry._id}>\n              <div className='journal-and-date'>\n                <p>{entry.content}</p>\n                <p>{entry.created}</p>\n              </div>\n              <p>{entry.mood}</p>\n              <div\n                className={`favorite-icon ${entry.favorite ? 'red-heart' : ''}`}\n                onClick={() => {\n                  handleFavoriteClick(entry._id);\n                }}>\n                <FontAwesomeIcon icon={faHeart} />\n              </div>\n              <div\n                className='trash-icon'\n                onClick={() => {\n                  handleDeleteClick(entry._id);\n                }}\n              >\n                <FontAwesomeIcon icon={faTrash} />\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p></p>\n      )}\n      <ModalAdjustJournal />\n    </div>\n  )\n}\n\nexport default JournalPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}