{"ast":null,"code":"var _jsxFileName = \"/Users/quinten/Documents/MyJournal/my-journal/client/src/pages/journal-page/JournalPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiService from '../../apiService';\nimport './JournalPage.css';\nimport WriteJournal from '../../components/write-journal/WriteJournal';\nimport { useJournalContext } from '../../context';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JournalPage = () => {\n  _s();\n  const {\n    journalData,\n    updateJournalData\n  } = useJournalContext();\n  const [entries, setEntries] = useState([]);\n  const params = useParams();\n  const journalId = params.journalId;\n  useEffect(() => {\n    const fetchJournalData = async () => {\n      try {\n        const data = await apiService.getJournalData(journalId);\n        updateJournalData(data);\n        setEntries(data.entries);\n        console.log(data);\n      } catch (error) {\n        console.error('Error fetching journal entries:', error);\n      }\n    };\n    fetchJournalData();\n  }, []);\n  const handleFavoriteClick = async entryId => {\n    const entryToUpdate = entries.find(entry => entry._id === entryId);\n    const newFavoriteState = !entryToUpdate.favorite;\n    const response = await apiService.updateJournalEntry(journalId, entryId, {\n      favorite: newFavoriteState\n    });\n    setEntries(response);\n  };\n  const handleDeleteClick = async entryId => {\n    try {\n      await apiService.deleteJournalEntry(journalId, entryId);\n      setEntries(prevEntries => prevEntries.filter(entry => entry._id !== entryId));\n    } catch (error) {\n      console.error('Error deleting journal entry:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"journal-page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cover\",\n        style: {\n          backgroundColor: journalData.coverColor\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"book-title\",\n          children: journalData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WriteJournal, {\n        setEntries: setEntries\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), (entries === null || entries === void 0 ? void 0 : entries.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: entries.map(entry => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"read-journal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"journal-and-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: entry.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: entry.created\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: entry.mood\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `favorite-icon ${entry.favorite ? 'red-heart' : ''}`,\n          onClick: () => {\n            handleFavoriteClick(entry._id);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faHeart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"trash-icon\",\n          onClick: () => {\n            handleDeleteClick(entry._id);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTrash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this)]\n      }, entry._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(JournalPage, \"ZhgBKSRRxmEP9DSs/ILaJ6TDqhw=\", false, function () {\n  return [useJournalContext, useParams];\n});\n_c = JournalPage;\nexport default JournalPage;\nvar _c;\n$RefreshReg$(_c, \"JournalPage\");","map":{"version":3,"names":["React","useEffect","useState","useParams","apiService","WriteJournal","useJournalContext","FontAwesomeIcon","faHeart","faTrash","jsxDEV","_jsxDEV","JournalPage","_s","journalData","updateJournalData","entries","setEntries","params","journalId","fetchJournalData","data","getJournalData","console","log","error","handleFavoriteClick","entryId","entryToUpdate","find","entry","_id","newFavoriteState","favorite","response","updateJournalEntry","handleDeleteClick","deleteJournalEntry","prevEntries","filter","children","className","style","backgroundColor","coverColor","title","fileName","_jsxFileName","lineNumber","columnNumber","length","map","content","created","mood","onClick","icon","_c","$RefreshReg$"],"sources":["/Users/quinten/Documents/MyJournal/my-journal/client/src/pages/journal-page/JournalPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport apiService from '../../apiService';\nimport './JournalPage.css'\nimport WriteJournal from '../../components/write-journal/WriteJournal';\nimport { useJournalContext } from '../../context';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faTrash } from '@fortawesome/free-solid-svg-icons';\n\nconst JournalPage = () => {\n  const { journalData, updateJournalData } = useJournalContext();\n  const [entries, setEntries] = useState([]);\n  const params = useParams();\n  const journalId = params.journalId;\n\n  useEffect(() => {\n    const fetchJournalData = async () => {\n      try {\n        const data = await apiService.getJournalData(journalId);\n        updateJournalData(data);\n        setEntries(data.entries);\n        console.log(data);\n      } catch (error) {\n        console.error('Error fetching journal entries:', error);\n      }\n    };\n    fetchJournalData();\n  }, []);\n\n  const handleFavoriteClick = async (entryId) => {\n    const entryToUpdate = entries.find(entry => entry._id === entryId);\n    const newFavoriteState = !entryToUpdate.favorite;\n    const response = await apiService.updateJournalEntry(journalId, entryId, { favorite: newFavoriteState });\n    setEntries(response);\n  };\n\n  const handleDeleteClick = async (entryId) => {\n    try {\n      await apiService.deleteJournalEntry(journalId, entryId);\n      setEntries((prevEntries) => prevEntries.filter((entry) => entry._id !== entryId));\n    } catch (error) {\n      console.error('Error deleting journal entry:', error);\n    }\n  };\n\n  return (\n    <div>\n      <div className='journal-page-header'>\n        <div className='cover' style={{ backgroundColor: journalData.coverColor }}>\n          <p className='book-title'>{journalData.title}</p>\n        </div>\n        <WriteJournal setEntries={ setEntries } />\n      </div>\n      {entries?.length > 0 ? (\n        <div>\n          {entries.map((entry) => (\n            <div className='read-journal' key={entry._id}>\n              <div className='journal-and-date'>\n                <p>{entry.content}</p>\n                <p>{entry.created}</p>\n              </div>\n              <p>{entry.mood}</p>\n              <div\n                className={`favorite-icon ${entry.favorite ? 'red-heart' : ''}`}\n                onClick={() => {\n                  handleFavoriteClick(entry._id);\n                }}>\n                <FontAwesomeIcon icon={faHeart} />\n              </div>\n              <div\n                className='trash-icon'\n                onClick={() => {\n                  handleDeleteClick(entry._id);\n                }}\n              >\n                <FontAwesomeIcon icon={faTrash} />\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <p></p>\n      )}\n    </div>\n  )\n}\n\nexport default JournalPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}